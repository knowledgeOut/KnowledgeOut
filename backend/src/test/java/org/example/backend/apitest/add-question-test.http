### 0. 사전 준비 (카테고리 데이터가 없다면 먼저 실행)
# DataInitializer가 있다면 생략 가능하지만, 확실히 하기 위해 카테고리가 1번(기술)이 존재하는지 확인 필요

### 1. 회원가입 (테스트 계정 생성)
POST http://localhost:8080/api/knowledgeout/members/signup
Content-Type: application/json

{
  "email": "test@testt",
  "password": "password1234",
  "nickname": "테스트t"
}

### 2. 로그인 (세션 쿠키 생성)
# 로그인 성공 시, 서버가 JSESSIONID 쿠키를 응답 헤더로 보냅니다.
# IntelliJ HTTP Client는 이 쿠키를 자동으로 저장합니다.
POST http://localhost:8080/api/knowledgeout/members/login
Content-Type: application/json

{
  "email": "test@test",
  "password": "password1234"
}

### 3. 질문 등록 (쿠키 자동 전송)
# 로그인 후 이 요청을 실행하면 저장된 JSESSIONID 쿠키가 자동으로 헤더에 포함됩니다.
# memberId는 서버가 세션에서 찾으므로 body에서 제외합니다.
POST http://localhost:8080/api/knowledgeout/questions
Content-Type: application/json

{
  "categoryId": 1,
  "title": "세션 인증 테스트 질문입니다.",
  "content": "로그인 후 질문이 잘 등록되는지 확인합니다.",
  "tagNames": ["Session", "Test", "SpringSecurity"]
}

### 4. 질문 목록 조회 (잘 등록되었는지 확인)
GET http://localhost:8080/api/knowledgeout/questions?page=0&size=10

### 1. 질문 등록 테스트 (태그 포함)
POST http://localhost:8080/api/knowledgeout/questions
Content-Type: application/json
Authorization: Bearer {YOUR_ACCESS_TOKEN}

{
  "categoryId": 1,
  "title": "같은 태그, 다른 질문",
  "content": "다른 질문에서 같은 태그를 사용했을 때 태그 테이블에 어떻게 저장되는지 확인하는 테스트입니다.",
  "tagNames": ["Spring", "JPA", "Java"]
}

> {%
    client.test("질문 등록 성공", function() {
        client.assert(response.status === 200, "상태 코드가 200이어야 합니다.");
        client.assert(response.body > 0, "생성된 질문 ID가 반환되어야 합니다.");
        client.global.set("new_question_id", response.body);
    });
%}

### 2. 등록된 질문 상세 조회 (태그 저장 확인)
GET http://localhost:8080/api/knowledgeout/questions/{{new_question_id}}
Accept: application/json

> {%
    client.test("태그 저장 확인", function() {
        client.assert(response.status === 200, "조회 성공");
        client.assert(response.body.tagNames.length === 3, "태그가 3개 등록되어 있어야 합니다.");
        client.assert(response.body.tagNames.includes("Spring"), "Spring 태그가 포함되어야 합니다.");
    });
%}